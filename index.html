<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>옆에서 코 골아도 잠 잘 오는 소리</title>

    <!-- SEO -->
    <meta
      name="description"
      content="코골이, 소음이 있어도 잠들기 환경을 돕는 소리. 화이트 노이즈·비 소리·저자극 사운드 제공."
    />
    <meta name="robots" content="index,follow" />
    <link rel="canonical" href="https://funnyfunny.cloud/sleep-helper/" />

    <!-- OG (English image text) -->
    <meta property="og:title" content="Sleep Helper" />
    <meta
      property="og:description"
      content="Sounds that help you fall asleep even with snoring."
    />
    <meta
      property="og:image"
      content="https://dummyimage.com/1200x630/0b1220/ffffff&text=Sleep+Helper"
    />
    <meta property="og:type" content="website" />

    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body
    class="min-h-screen bg-gradient-to-b from-slate-950 to-slate-900 text-white"
  >
    <main class="max-w-md mx-auto px-4 py-10">
      <h1 class="text-3xl font-extrabold text-center">잠들기 도우미</h1>
      <p class="mt-2 text-center text-white/70">
        코골이·주변 소음이 있어도 잠들기 환경을 돕는 소리
      </p>

      <div class="mt-8 space-y-3">
        <button
          onclick="playNoise('white')"
          class="w-full py-3 rounded-xl bg-white/10 hover:bg-white/15"
        >
          화이트 노이즈
        </button>
        <button
          onclick="playNoise('pink')"
          class="w-full py-3 rounded-xl bg-white/10 hover:bg-white/15"
        >
          핑크 노이즈
        </button>
        <button
          onclick="playLow()"
          class="w-full py-3 rounded-xl bg-white/10 hover:bg-white/15"
        >
          부드러운 저음
        </button>
        <button
          onclick="stopAll()"
          class="w-full py-3 rounded-xl bg-emerald-500 text-slate-950 font-semibold"
        >
          정지
        </button>
      </div>

      <p class="mt-8 text-xs text-white/50 leading-relaxed text-center">
        본 서비스는 수면 환경을 돕기 위한 참고용 소리 제공이며<br />
        의료·치료 목적이 아닙니다.
      </p>

      <div class="flex justify-center pt-6 mt-8 border-t border-white/10">
        <a
          href="https://funnyfunny.cloud/"
          class="text-sm text-white/60 hover:text-white"
        >
          다른 서비스 보기
        </a>
      </div>
    </main>

    <script>
      let ctx, source;

      function init() {
        if (!ctx)
          ctx = new (window.AudioContext || window.webkitAudioContext)();
      }

      function playNoise(type) {
        stopAll();
        init();

        const bufferSize = ctx.sampleRate * 2;
        const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
        const data = buffer.getChannelData(0);

        let lastOut = 0;
        for (let i = 0; i < bufferSize; i++) {
          const white = Math.random() * 2 - 1;
          if (type === "pink") {
            lastOut = (lastOut + 0.02 * white) / 1.02;
            data[i] = lastOut * 3.5;
          } else {
            data[i] = white;
          }
        }

        source = ctx.createBufferSource();
        source.buffer = buffer;
        source.loop = true;
        source.connect(ctx.destination);
        source.start();
      }

      function playLow() {
        stopAll();
        init();
        source = ctx.createOscillator();
        source.type = "sine";
        source.frequency.value = 60;
        source.connect(ctx.destination);
        source.start();
      }

      function stopAll() {
        if (source) {
          try {
            source.stop();
          } catch {}
          source = null;
        }
      }
    </script>
  </body>
</html>
